<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Team Entry Form</title>
<link rel="stylesheet" type="text/css" href="<%=request.getContextPath()%>/css/style.css"/>

<script type="text/javascript" src="js/jquery.1.7.2.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.js"></script> 
<script type="text/javascript" src="js/jquery.currency.js"></script> 

</head>
<body>


<script  type="text/javascript">
$(document).ready(function(){
	$.ajax({
		type:"post",
		url:"/SportManagmentSystem/TeamEntryServlet",
		data:{dataSend:"category"},  
		datatype:"json",
		 success:function(data, textStatus, jqXHR)
         {
	    	var e=jQuery.parseJSON(data);	          
	    	console.log("category"+e);    
	        var options = '';
	        options += '<option value="NotSelected">Select the Game Category</option>';
			 if(e!=undefined && e!=null && e!="" ){ 
				$.each(e, function(key, value){
					options += '<option value="' + key + '">' + value + '</option>';
				});
	        	/* for (var i = 0; i < e.length; i++) {
	          	options += '<option value="' + e[i].optionValue + '">' + e[i].optionDisplay + '</option>';
	        	} */
			}
	        $("#category").html(options);

         },
         error:function(xhr,status){
             console.log(status);
      }
	});
	
	
	$("#category").change(function(){
		 if($(this).val()!="NotSelected"){
			$.ajax({
			       type: "post",
			       url:"/SportManagmentSystem/TeamEntryServlet",
			       data:"dataSend=businessUnit&&category="+$(this).val(),   
			       
			       success:function(data, textStatus, jqXHR)
		      {
			    	  // console.log("businessUnit"+data);
			    	   var e=jQuery.parseJSON(data);
		     
		// console.log("businessUnit"+e);    
		     var options = '';
		     options += '<option value="NotSelected">Select the Business Unit</option>';
				if(e!=undefined && e!=null && e!="" ){
					$.each(e, function(key, value){
						options += '<option value="' + key + '">' + value + '</option>';
					});
		     	
				}
		     $("#businessUnit").html(options);
		 },
		 error:function(xhr,status){
		        console.log(status);
		 }
		 });
		}
	
	 });

	
});
</script>
<form>
<div class=container>

<div >
	<div class="labels"><span>Please select category:</span></div><select id="category"></select>
</div>

</div>

</form>


</body>
</html>  